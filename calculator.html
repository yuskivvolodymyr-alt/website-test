<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Staking Calculator - QubeNode</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        html {
            background: #000000;
            background-color: #000000 !important;
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #000000;
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        /* Animated background */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            background: radial-gradient(ellipse at 50% 50%, rgba(0, 212, 255, 0.15) 0%, transparent 50%),
                        radial-gradient(ellipse at 80% 20%, rgba(0, 255, 240, 0.15) 0%, transparent 50%),
                        radial-gradient(ellipse at 20% 80%, rgba(0, 128, 255, 0.15) 0%, transparent 50%);
            animation: bgShift 20s ease infinite;
            pointer-events: none;
        }

        @keyframes bgShift {
            0%, 100% { transform: scale(1) rotate(0deg); }
            50% { transform: scale(1.1) rotate(5deg); }
        }

        .grid-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(0, 212, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 212, 255, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            z-index: 1;
            pointer-events: none;
        }
        
        .container { 
            position: relative;
            z-index: 2;
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 20px; 
        }
        header { text-align: center; padding: 20px 0; margin-bottom: 20px; }
        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            background: rgba(0, 212, 255, 0.15);
            border: 1px solid rgba(0, 212, 255, 0.4);
            border-radius: 12px;
            color: #00D4FF;
            text-decoration: none;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.3s;
            margin-bottom: 40px;
        }
        .back-button:hover { background: rgba(0, 212, 255, 0.25); transform: translateX(-5px); }
        .page-title { color: #00FFF0; font-size: 2.5em; font-weight: 700; margin: 20px 0; }
        .calc-container { background: rgba(0, 212, 255, 0.03); border: 1px solid rgba(0, 212, 255, 0.2); border-radius: 20px; padding: 40px; }
        .preset-buttons { margin-bottom: 30px; text-align: center; }
        .preset-buttons label { display: block; color: #00D4FF; font-weight: 600; margin-bottom: 12px; }
        .preset-grid { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; }
        .preset-btn { padding: 10px 20px; background: rgba(0, 212, 255, 0.1); border: 1px solid rgba(0, 212, 255, 0.3); border-radius: 10px; color: #00FFF0; cursor: pointer; transition: all 0.3s; font-size: 0.95em; font-weight: 600; }
        .preset-btn:hover { background: rgba(0, 212, 255, 0.2); transform: translateY(-2px); }
        .input-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .input-group label { display: block; color: #00D4FF; font-weight: 600; margin-bottom: 8px; }
        .calc-input { width: 100%; padding: 15px; background: rgba(0, 212, 255, 0.05); border: 1px solid rgba(0, 212, 255, 0.2); border-radius: 12px; color: #fff; font-size: 1em; font-family: 'Space Grotesk', sans-serif; }
        .calc-input:focus { outline: none; border-color: rgba(0, 212, 255, 0.5); background: rgba(0, 212, 255, 0.08); }
        .price-hint { color: #64748b; font-size: 0.8em; margin-top: 4px; }
        #calcResults { display: none; }
        .summary-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px; margin-bottom: 30px; }
        .summary-card { 
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.12), rgba(74, 222, 128, 0.08)); 
            border: 1px solid rgba(34, 197, 94, 0.35); 
            border-radius: 15px; 
            padding: 20px; 
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 140px; /* FIXED: –û–¥–Ω–∞–∫–æ–≤–∞ –≤–∏—Å–æ—Ç–∞ –≤—Å—ñ—Ö –∫–∞—Ä—Ç–æ–∫ */
        }
        .summary-card.highlight { background: linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(74, 222, 128, 0.1)); border: 2px solid rgba(34, 197, 94, 0.4); }
        .card-label { 
            color: #94a3b8; 
            font-size: 0.85em; /* FIXED: –ú–µ–Ω—à–∏–π —Ä–æ–∑–º—ñ—Ä –¥–ª—è –¥–æ–≤–≥–∏—Ö –Ω–∞–∑–≤ */
            margin-bottom: 10px;
            text-align: center;
            width: 100%;
            line-height: 1.3; /* FIXED: –í–∏—Å–æ—Ç–∞ —Ä—è–¥–∫–∞ –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å—É */
        }
        .card-value { 
            color: #22c55e; 
            font-size: 1.4em; /* FIXED: –¢—Ä–æ—Ö–∏ –º–µ–Ω—à–µ –¥–ª—è –±–∞–ª–∞–Ω—Å—É */
            font-weight: 700; 
            margin: 8px 0;
            text-align: center;
            width: 100%;
            word-break: break-word;
            line-height: 1.2;
        }
        .card-value.large { font-size: 1.5em; } /* FIXED: –ú–µ–Ω—à–µ –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö —á–∏—Å–µ–ª */
        .card-usd { 
            color: #86efac; 
            font-size: 0.8em; /* FIXED: –¢—Ä–æ—Ö–∏ –º–µ–Ω—à–µ */
            margin-top: 5px;
            text-align: center;
            width: 100%;
        }
        .detailed-breakdown { background: rgba(34, 197, 94, 0.05); border: 1px solid rgba(34, 197, 94, 0.2); border-radius: 15px; padding: 25px; margin-bottom: 20px; }
        .breakdown-title { color: #22c55e; margin-bottom: 20px; font-size: 1.2em; }
        .breakdown-row { 
            display: flex; 
            justify-content: space-between; 
            align-items: center;
            padding: 12px 0; /* FIXED: –ë—ñ–ª—å—à–µ padding –¥–ª—è —á—ñ—Ç–∫–æ—Å—Ç—ñ */
            border-bottom: 1px solid rgba(34, 197, 94, 0.15);
            gap: 15px; /* FIXED: –í—ñ–¥—Å—Ç—É–ø –º—ñ–∂ label —ñ value */
        }
        .breakdown-row.highlight { border-bottom: 2px solid rgba(34, 197, 94, 0.3); padding: 15px 0 5px 0; margin-top: 10px; }
        .breakdown-label { 
            color: #94a3b8; 
            text-align: left; /* FIXED: –ó–∞–≤–∂–¥–∏ –ª—ñ–≤–æ—Ä—É—á */
            flex: 1;
            font-size: 0.95em;
        }
        .breakdown-value { 
            font-weight: 600; 
            text-align: right;
            min-width: 140px;
            flex-shrink: 0;
            line-height: 1.4; /* FIXED: –í–∏—Å–æ—Ç–∞ —Ä—è–¥–∫–∞ –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å—É */
        }
        .comparison-box { background: rgba(34, 197, 94, 0.05); border: 1px solid rgba(34, 197, 94, 0.2); border-radius: 15px; padding: 25px; display: none; }
        .comparison-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 15px; }
        .benefit-box { padding: 15px; background: rgba(34, 197, 94, 0.1); border-radius: 10px; margin-top: 15px; }
        .benefit-box .label { color: #22c55e; font-weight: 600; }
        .benefit-box .value { color: #fff; font-size: 1.2em; margin-top: 5px; }
        
        /* Footer */
        footer {
            text-align: center;
            padding: 50px 20px 30px 20px;
            color: #64748b;
            border-top: 1px solid rgba(0, 212, 255, 0.1);
            margin-top: 60px;
        }
        footer p {
            margin: 8px 0;
        }
        footer strong {
            color: #00FFF0;
        }
        footer a {
            color: #00D4FF;
            text-decoration: none;
            transition: color 0.3s;
        }
        footer a:hover {
            color: #00FFF0;
        }
        
        @media (max-width: 768px) {
            .container { padding: 10px; }
            .page-title { font-size: 1.5em; }
            .calc-container { padding: 20px; }
            .input-grid { grid-template-columns: 1fr; }
            .summary-cards { 
                grid-template-columns: repeat(2, 1fr); /* –î–≤—ñ –∫–∞—Ä—Ç–∫–∏ –≤ —Ä—è–¥ */
                gap: 12px;
            }
            .summary-card {
                min-height: 125px; /* FIXED: –ú–µ–Ω—à–∞ –≤–∏—Å–æ—Ç–∞ */
                padding: 12px 8px; /* FIXED: –ú–µ–Ω—à–µ padding */
            }
            .card-label {
                font-size: 0.8em; /* FIXED: –î—É–∂–µ –º–∞–ª–µ–Ω—å–∫–∏–π —Ç–µ–∫—Å—Ç –¥–ª—è –¥–æ–≤–≥–∏—Ö –Ω–∞–∑–≤ */
                margin-bottom: 8px;
                line-height: 1.2;
            }
            .card-value {
                font-size: 1.2em; /* FIXED: –ú–µ–Ω—à—ñ —Ü–∏—Ñ—Ä–∏ */
                margin: 6px 0;
            }
            .card-value.large {
                font-size: 1.3em; /* FIXED: –ú–µ–Ω—à–µ –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö —á–∏—Å–µ–ª */
            }
            .card-usd {
                font-size: 0.75em; /* FIXED: –î—É–∂–µ –º–∞–ª–µ–Ω—å–∫–∏–π USD */
            }
            .breakdown-row {
                padding: 10px 0;
                gap: 10px;
            }
            .breakdown-label {
                font-size: 0.9em;
            }
            .breakdown-value {
                min-width: 120px;
                font-size: 0.95em;
            }
            .comparison-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <!-- Animated background -->
    <div class="bg-animation"></div>
    <div class="grid-overlay"></div>
    
    <div class="container">
        <header>
            <a href="index.html" class="back-button">üè† To Main</a>
            <h1 class="page-title">üí∞ Staking Calculator</h1>
            <p style="color: #94a3b8; font-size: 1.1em;">Calculate your future rewards</p>
        </header>

        <div class="calc-container">
            <!-- Preset Buttons -->
            <div class="preset-buttons">
                <label>Quick amount selection:</label>
                <div class="preset-grid">
                    <button class="preset-btn">100 TICS</button>
                    <button class="preset-btn">1,000 TICS</button>
                    <button class="preset-btn">5,000 TICS</button>
                    <button class="preset-btn">10,000 TICS</button>
                    <button class="preset-btn">50,000 TICS</button>
                </div>
            </div>

            <!-- Input Fields -->
            <div class="input-grid">
                <div class="input-group">
                    <label>Quantity $TICS</label>
                    <input type="number" id="amount" class="calc-input" placeholder="Enter quantity of coins">
                </div>
                
                <div class="input-group">
                    <label>Period</label>
                    <select id="period" class="calc-input">
                        <option value="">-- Select --</option>
                        <option value="1">1 month</option>
                        <option value="3">3 months</option>
                        <option value="6">6 months</option>
                        <option value="12" selected>1 year</option>
                        <option value="24">2 years</option>
                        <option value="36">3 years</option>
                        <option value="48">4 years</option>
                        <option value="60">5 years</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label>Or days</label>
                    <input type="number" id="customDays" class="calc-input" placeholder="Enter number of days">
                </div>
                
                <div class="input-group">
                    <label>$TICS Price (USD)</label>
                    <input type="number" id="customPrice" class="calc-input" placeholder="Auto from MEXC" step="0.0001">
                    <div class="price-hint">Current: $<span id="currentPriceDisplay">...</span></div>
                </div>
                
                <div class="input-group">
                    <label>Compounding</label>
                    <select id="compoundFrequency" class="calc-input">
                        <option value="none">No compounding</option>
                        <option value="daily">Daily (manual)</option>
                        <option value="weekly">Weekly (manual)</option>
                        <option value="monthly">Monthly (manual)</option>
                        <option value="quarterly">Quarterly (manual)</option>
                    </select>
                </div>
            </div>

            <!-- Results Section -->
            <div id="calcResults">
                <!-- Summary Cards -->
                <div class="summary-cards">
                    <div class="summary-card">
                        <div class="card-label">Daily income</div>
                        <div class="card-value" id="dailyResult">--</div>
                        <div class="card-usd" id="dailyUSD">--</div>
                    </div>
                    
                    <div class="summary-card">
                        <div class="card-label">Weekly income</div>
                        <div class="card-value" id="weeklyResult">--</div>
                        <div class="card-usd" id="weeklyUSD">--</div>
                    </div>
                    
                    <div class="summary-card">
                        <div class="card-label">Monthly income</div>
                        <div class="card-value" id="monthlyResult">--</div>
                        <div class="card-usd" id="monthlyUSD">--</div>
                    </div>
                    
                    <div class="summary-card highlight">
                        <div class="card-label">Total income</div>
                        <div class="card-value large" id="totalResult">--</div>
                        <div class="card-usd" id="totalUSD">--</div>
                    </div>
                </div>

                <!-- Detailed Breakdown -->
                <div class="detailed-breakdown">
                    <h4 class="breakdown-title">üìä Detailed calculation</h4>
                    
                    <div class="breakdown-row">
                        <span class="breakdown-label">Deposit body:</span>
                        <span class="breakdown-value" id="initialAmount">--</span>
                    </div>
                    
                    <div class="breakdown-row">
                        <span class="breakdown-label">Staking period:</span>
                        <span class="breakdown-value" id="periodText">--</span>
                    </div>
                    
                    <div class="breakdown-row">
                        <span class="breakdown-label">APY (base rate):</span>
                        <span class="breakdown-value" style="color: #22c55e;">30%</span>
                    </div>
                    
                    <div class="breakdown-row">
                        <span class="breakdown-label">Validator commission (%):</span>
                        <span class="breakdown-value" style="color: #fbbf24;">5%</span>
                    </div>
                    
                    <div class="breakdown-row">
                        <span class="breakdown-label">Your real APY:</span>
                        <span class="breakdown-value" style="color: #22c55e; font-size: 1.05em;" id="realAPY">28.5%</span>
                    </div>
                    
                    <div class="breakdown-row">
                        <span class="breakdown-label">Compounding:</span>
                        <span class="breakdown-value" id="compoundText">--</span>
                    </div>
                    
                    <div class="breakdown-row">
                        <span class="breakdown-label">Total reward:</span>
                        <span class="breakdown-value" style="color: #22c55e; font-size: 1.05em;" id="totalRewardAmount">--</span>
                    </div>
                    
                    <div class="breakdown-row">
                        <span class="breakdown-label">Validator commission (amount):</span>
                        <span class="breakdown-value" style="color: #fbbf24;" id="validatorCommissionAmount">--</span>
                    </div>
                    
                    <div class="breakdown-row">
                        <span class="breakdown-label">Your reward (net):</span>
                        <span class="breakdown-value" style="color: #22c55e; font-size: 1.05em;" id="netRewardAmount">--</span>
                    </div>
                    
                    <div class="breakdown-row highlight">
                        <span class="breakdown-label" style="color: #22c55e; font-size: 1.15em; font-weight: 700;">Final amount:</span>
                        <span class="breakdown-value" style="color: #22c55e; font-size: 1.15em;" id="finalAmount">--</span>
                    </div>
                </div>

                <!-- Comparison -->
                <div id="compoundComparison" class="comparison-box">
                    <h4 class="breakdown-title">üí° Comparison: no compounding vs with compounding</h4>
                    
                    <div class="comparison-grid">
                        <div>
                            <div style="color: #94a3b8; margin-bottom: 10px;">No compounding:</div>
                            <div style="color: #fff; font-size: 1.3em; font-weight: 600;" id="withoutCompound">--</div>
                            <div style="color: #fff; font-size: 0.9em; margin-top: 5px;" id="withoutCompoundUSD">--</div>
                        </div>
                        <div>
                            <div style="color: #94a3b8; margin-bottom: 10px;">With compounding:</div>
                            <div style="color: #22c55e; font-size: 1.3em; font-weight: 700;" id="withCompound">--</div>
                            <div style="color: #22c55e; font-size: 0.9em; margin-top: 5px;" id="withCompoundUSD">--</div>
                        </div>
                    </div>
                    
                    <div class="benefit-box">
                        <div class="label">Additional profit with compounding:</div>
                        <div class="value" id="compoundBenefit">--</div>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p><strong>QubeNode</strong> - Professional Qubetics Network validator</p>
            <p>¬© 2025 QubeNode. All rights reserved. | <a href="https://t.me/+sRnz7RyoL4Q0MWEy" target="_blank">Telegram</a></p>
        </footer>
    </div>

    <script>
        let currentTicsPrice = 0.047190;
        let userCustomPrice = null;
        
        function setAmount(value) {
            document.getElementById('amount').value = value;
            calculateAuto();
        }
        
        function usePeriod() {
            const period = document.getElementById('period').value;
            if (period) {
                document.getElementById('customDays').value = '';
                calculateAuto();
            }
        }
        
        function useCustomDays() {
            const days = parseInt(document.getElementById('customDays').value);
            if (days && days > 0) {
                document.getElementById('period').value = '';
                calculateAuto();
            }
        }
        
        function useCustomPrice() {
            const price = parseFloat(document.getElementById('customPrice').value);
            if (price && price > 0) {
                userCustomPrice = price;
                calculateAuto();
            } else {
                userCustomPrice = null;
                calculateAuto();
            }
        }
        
        function calculateAuto() {
            const amount = parseFloat(document.getElementById('amount').value);
            let period = parseInt(document.getElementById('period').value);
            const customDays = parseInt(document.getElementById('customDays').value);
            const compoundFreq = document.getElementById('compoundFrequency').value;
            
            if (customDays && customDays > 0) {
                period = customDays / 30;
            }
            
            if (!amount || amount <= 0 || !period || period <= 0) {
                document.getElementById('calcResults').style.display = 'none';
                return;
            }
            
            const priceToUse = userCustomPrice || currentTicsPrice;
            
            const APY = 30;
            const COMMISSION = 5;
            const NET_APY = APY * (1 - COMMISSION / 100);
            const ANNUAL_RATE = NET_APY / 100;
            
            let finalAmount, totalReward, compoundsPerYear, compoundText;
            
            if (compoundFreq === 'none') {
                const monthlyRate = ANNUAL_RATE / 12;
                const monthlyReward = amount * monthlyRate;
                totalReward = monthlyReward * period;
                finalAmount = amount + totalReward;
                compoundText = 'No compounding';
            } else {
                switch(compoundFreq) {
                    case 'daily': compoundsPerYear = 365; compoundText = 'Daily (manual)'; break;
                    case 'weekly': compoundsPerYear = 52; compoundText = 'Weekly (manual)'; break;
                    case 'monthly': compoundsPerYear = 12; compoundText = 'Monthly (manual)'; break;
                    case 'quarterly': compoundsPerYear = 4; compoundText = 'Quarterly (manual)'; break;
                }
                
                const ratePerPeriod = ANNUAL_RATE / compoundsPerYear;
                const totalPeriods = compoundsPerYear * (period / 12);
                finalAmount = amount * Math.pow(1 + ratePerPeriod, totalPeriods);
                totalReward = finalAmount - amount;
            }
            
            const daysInPeriod = (period / 12) * 365;
            const dailyReward = totalReward / daysInPeriod;
            const weeklyReward = dailyReward * 7;
            const monthlyReward = totalReward / period;
            
            document.getElementById('calcResults').style.display = 'block';
            
            document.getElementById('dailyResult').textContent = dailyReward.toFixed(2) + ' TICS';
            document.getElementById('dailyUSD').textContent = '$' + (dailyReward * priceToUse).toFixed(2);
            
            document.getElementById('weeklyResult').textContent = weeklyReward.toFixed(2) + ' TICS';
            document.getElementById('weeklyUSD').textContent = '$' + (weeklyReward * priceToUse).toFixed(2);
            
            document.getElementById('monthlyResult').textContent = monthlyReward.toFixed(2) + ' TICS';
            document.getElementById('monthlyUSD').textContent = '$' + (monthlyReward * priceToUse).toFixed(2);
            
            document.getElementById('totalResult').textContent = totalReward.toFixed(2) + ' TICS';
            document.getElementById('totalUSD').textContent = '$' + (totalReward * priceToUse).toFixed(2);
            
            const netReward = totalReward;
            const grossReward = netReward / 0.95;
            const validatorCommission = grossReward - netReward;
            
            // COLORS: USD must match TICS color EXACTLY
            const WHITE = '#ffffff';        // –î–ª—è –±—ñ–ª–∏—Ö –∑–Ω–∞—á–µ–Ω—å
            const GREEN = '#22c55e';        // –î–ª—è –∑–µ–ª–µ–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å  
            const YELLOW = '#fbbf24';       // –î–ª—è –∂–æ–≤—Ç–∏—Ö –∑–Ω–∞—á–µ–Ω—å
            
            // –¢—ñ–ª–æ –¥–µ–ø–æ–∑–∏—Ç—É - –ë–Ü–õ–ò–ô TICS ‚Üí –ë–Ü–õ–ò–ô USD
            document.getElementById('initialAmount').innerHTML = amount.toLocaleString() + ' TICS<br><span style="font-size: 0.85em; color: ' + WHITE + ';">($' + (amount * priceToUse).toFixed(2) + ')</span>';
            document.getElementById('periodText').textContent = getPeriodText(period, customDays);
            document.getElementById('compoundText').textContent = compoundText;
            
            // –ó–∞–≥–∞–ª—å–Ω–∞ –≤–∏–Ω–∞–≥–æ—Ä–æ–¥–∞ - –ó–ï–õ–ï–ù–ò–ô TICS ‚Üí –ó–ï–õ–ï–ù–ò–ô USD
            document.getElementById('totalRewardAmount').innerHTML = grossReward.toFixed(2) + ' TICS<br><span style="font-size: 0.85em; color: ' + GREEN + ';">($' + (grossReward * priceToUse).toFixed(2) + ')</span>';
            
            // –ö–æ–º—ñ—Å—ñ—è –≤–∞–ª—ñ–¥–∞—Ç–æ—Ä–∞ - –ñ–û–í–¢–ò–ô TICS ‚Üí –ñ–û–í–¢–ò–ô USD
            document.getElementById('validatorCommissionAmount').innerHTML = validatorCommission.toFixed(2) + ' TICS<br><span style="font-size: 0.85em; color: ' + YELLOW + ';">($' + (validatorCommission * priceToUse).toFixed(2) + ')</span>';
            
            // –í–∞—à–∞ –≤–∏–Ω–∞–≥–æ—Ä–æ–¥–∞ (—á–∏—Å—Ç–∞) - –ó–ï–õ–ï–ù–ò–ô TICS ‚Üí –ó–ï–õ–ï–ù–ò–ô USD
            document.getElementById('netRewardAmount').innerHTML = netReward.toFixed(2) + ' TICS<br><span style="font-size: 0.85em; color: ' + GREEN + ';">($' + (netReward * priceToUse).toFixed(2) + ')</span>';
            
            // –ö—ñ–Ω—Ü–µ–≤–∞ —Å—É–º–∞ - –ó–ï–õ–ï–ù–ò–ô TICS ‚Üí –ó–ï–õ–ï–ù–ò–ô USD
            document.getElementById('finalAmount').innerHTML = finalAmount.toFixed(2) + ' TICS<br><span style="font-size: 0.85em; color: ' + GREEN + ';">($' + (finalAmount * priceToUse).toFixed(2) + ')</span>';
            
            // FIXED: Calculate real APY based on compound frequency using NET_APY
            const NET_APY_DECIMAL = NET_APY / 100; // 28.5% -> 0.285
            let realAPY;
            if (compoundFreq === 'none') {
                realAPY = NET_APY; // 28.5% –±–µ–∑ —Ä–µ—ñ–Ω–≤–µ—Å—Ç—É–≤–∞–Ω–Ω—è
            } else {
                // –§–æ—Ä–º—É–ª–∞ —Å–∫–ª–∞–¥–Ω–æ–≥–æ –≤—ñ–¥—Å–æ—Ç–∫–∞: (1 + r/n)^n - 1
                // –¥–µ r = NET_APY (28.5%), n = –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ–º–ø–∞—É–Ω–¥–∏–Ω–≥—ñ–≤ –Ω–∞ —Ä—ñ–∫
                const effectiveAPY = (Math.pow(1 + NET_APY_DECIMAL / compoundsPerYear, compoundsPerYear) - 1) * 100;
                realAPY = effectiveAPY;
            }
            document.getElementById('realAPY').textContent = realAPY.toFixed(2) + '%';
            
            if (compoundFreq !== 'none') {
                const monthlyRate = ANNUAL_RATE / 12;
                const withoutCompoundReward = amount * monthlyRate * period;
                const withoutCompoundFinal = amount + withoutCompoundReward;
                const benefit = finalAmount - withoutCompoundFinal;
                
                document.getElementById('compoundComparison').style.display = 'block';
                document.getElementById('withoutCompound').textContent = withoutCompoundFinal.toFixed(2) + ' TICS';
                document.getElementById('withoutCompoundUSD').textContent = '$' + (withoutCompoundFinal * priceToUse).toFixed(2);
                document.getElementById('withCompound').textContent = finalAmount.toFixed(2) + ' TICS';
                document.getElementById('withCompoundUSD').textContent = '$' + (finalAmount * priceToUse).toFixed(2);
                document.getElementById('compoundBenefit').innerHTML = '+' + benefit.toFixed(2) + ' TICS<br><span style="font-size: 0.85em; color: ' + GREEN + ';">($' + (benefit * priceToUse).toFixed(2) + ')</span>';
            } else {
                document.getElementById('compoundComparison').style.display = 'none';
            }
        }
        
        function getPeriodText(months, customDays) {
            if (customDays && customDays > 0) return customDays + ' days';
            if (months === 1) return '1 month';
            if (months === 3) return '3 months';
            if (months === 6) return '6 months';
            if (months === 12) return '1 year';
            if (months === 24) return '2 years';
            if (months === 36) return '3 years';
            if (months === 48) return '4 years';
            if (months === 60) return '5 years';
            return months.toFixed(1) + ' months';
        }
        
        // Fetch price from MEXC (using CORS proxy like in sync.js)
        async function fetchTicsPrice() {
            try {
                console.log('üîÑ Fetching TICS price from MEXC...');
                
                // Use CORS proxy like in sync.js
                const corsProxy = "https://corsproxy.io/?";
                const mexcUrl = "https://api.mexc.com/api/v3/ticker/24hr?symbol=TICSUSDT";
                const proxiedUrl = corsProxy + encodeURIComponent(mexcUrl);
                
                const response = await fetch(proxiedUrl);
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const data = await response.json();
                
                console.log('üìä MEXC response:', data);
                
                if (data && data.lastPrice) {
                    currentTicsPrice = parseFloat(data.lastPrice);
                    const priceElement = document.getElementById('currentPriceDisplay');
                    if (priceElement) {
                        priceElement.textContent = currentTicsPrice.toFixed(4);
                        priceElement.style.color = '#00FFF0'; // Highlight update
                        setTimeout(() => priceElement.style.color = '', 500);
                    }
                    if (document.getElementById('calcResults').style.display !== 'none') {
                        calculateAuto();
                    }
                    console.log('‚úÖ TICS price loaded:', currentTicsPrice);
                } else {
                    console.warn('‚ö†Ô∏è Invalid price data from MEXC');
                    setFallbackPrice();
                }
            } catch (error) {
                console.error('‚ùå Error fetching TICS price:', error);
                setFallbackPrice();
            }
        }
        
        function setFallbackPrice() {
            if (!currentTicsPrice || currentTicsPrice === 0.038) {
                currentTicsPrice = 0.038;
                document.getElementById('currentPriceDisplay').textContent = currentTicsPrice.toFixed(4);
                console.log('Using fallback price:', currentTicsPrice);
            }
        }
        
        // Fetch price on load and every 30 seconds
        fetchTicsPrice();
        setInterval(fetchTicsPrice, 30000);
    </script>
    
    <!-- Calculator Initialization -->
    <script src="init-calculator.js"></script>
</body>
</html>
